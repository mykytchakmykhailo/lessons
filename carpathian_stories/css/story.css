@charset "UTF-8";
body {
  height: 100%;
  overflow: hidden; /* головне — немає скролу на сторінці */
  background: #0a0015;
  color: #f0e8ff;
  font-family: system-ui, sans-serif;
}

.screen {
  position: fixed;
  inset: 0;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.7s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 15px;
}

.screen.active {
  opacity: 1;
  pointer-events: auto;
}

.hidden {
  display: none !important;
}

/* ────────────── Вибір персонажа ────────────── */
h1 {
  font-size: clamp(2rem, 10vw, 3.5rem);
  margin-bottom: 40px;
  color: #d0b0ff;
  text-shadow: 0 0 18px #8a4fff;
}

.characters {
  display: flex;
  justify-content: center;
  gap: 25px;
  flex-wrap: wrap;
  width: 100%;
  max-width: 600px;
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.characters.fade-out {
  opacity: 0;
  transform: translateY(30px);
}

.card {
  width: clamp(150px, 42vw, 220px);
  background: rgba(35, 20, 65, 0.7);
  border: 2px solid rgba(138, 79, 255, 0.3764705882);
  border-radius: 16px;
  padding: 12px;
  cursor: pointer;
  transition: all 0.3s;
  backdrop-filter: blur(6px);
}

.card:hover,
.card.active {
  transform: scale(1.07);
  border-color: #b388ff;
  box-shadow: 0 10px 30px rgba(138, 79, 255, 0.2509803922);
}

.card img {
  width: 100%;
  height: auto;
  aspect-ratio: 3/4;
  -o-object-fit: contain;
     object-fit: contain;
  border-radius: 10px;
}

.card span {
  display: block;
  margin-top: 10px;
  font-size: 1.25rem;
  text-align: center;
}

/* ────────────── Слайдер вигляду ────────────── */
.slider {
  width: 100%;
  max-width: 460px;
  margin-top: 30px;
  text-align: center;
  transition: opacity 0.8s ease;
}

.slider-window {
  width: 100%;
  height: clamp(380px, 70vh, 580px);
  background: rgba(0, 0, 0, 0.35);
  border-radius: 16px;
  overflow: hidden;
  margin: 0 auto 20px;
  position: relative;
}

.look-img {
  width: 100%;
  height: 100%;
  -o-object-fit: contain;
     object-fit: contain;
  transition: opacity 0.5s ease;
}

.arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 48px;
  height: 48px;
  background: rgba(0, 0, 0, 0.55);
  border: none;
  color: white;
  font-size: 2.2rem;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.25s;
}

.left {
  left: 8px;
}

.right {
  right: 8px;
}

.arrow:hover {
  background: rgba(138, 79, 255, 0.7529411765);
}

#look-name {
  font-size: 1.15rem;
  margin: 15px 0 20px;
  color: #c4a1ff;
}

.confirm {
  padding: 14px 40px;
  font-size: 1.15rem;
  background: #e91e63;
  border: none;
  border-radius: 50px;
  color: white;
  cursor: pointer;
  box-shadow: 0 6px 20px rgba(233, 30, 99, 0.5019607843);
  transition: all 0.3s;
}

.confirm:hover {
  transform: scale(1.05);
  box-shadow: 0 10px 30px rgba(233, 30, 99, 0.7529411765);
}

/* ────────────── Історія (без скролу) ────────────── */
.scene {
  height: 100%;
  background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.7)), url("scenes/night-bridge.jpg") center/cover no-repeat;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 20px;
}

.story-content {
  max-width: 800px;
  margin: 0 auto;
  padding-bottom: 80px;
}

.story-content h2 {
  font-size: clamp(1.8rem, 7vw, 2.8rem);
  margin-bottom: 20px;
}

.story-content p {
  font-size: clamp(1.05rem, 4.5vw, 1.3rem);
  line-height: 1.6;
  margin-bottom: 18px;
}

.choices {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 30px;
}

.choices button {
  padding: 14px;
  font-size: 1.1rem;
  background: rgba(20, 10, 50, 0.8);
  border: 1.5px solid rgba(138, 79, 255, 0.5019607843);
  border-radius: 12px;
  color: white;
  cursor: pointer;
  transition: all 0.3s;
}

.choices button:hover {
  background: rgba(138, 79, 255, 0.7529411765);
  transform: translateY(-2px);
}

/* ... попередні стилі для вибору залишаються ... */
/* Повноекранний фон історії */
.full-bg {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 20px 15px;
}

/* Контейнер діалогів */
.dialogue-container {
  display: flex;
  flex-direction: column;
  gap: 18px;
  max-width: 100%;
  margin-bottom: 80px;
}

/* Комікс-рамка з плавною появою */
.speech-bubble {
  position: relative;
  background: rgba(255, 255, 255, 0.93);
  color: #111;
  padding: 16px 22px;
  border-radius: 18px;
  border: 3.5px solid #000;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.55);
  max-width: 88%;
  font-size: clamp(1.05rem, 4.5vw, 1.35rem);
  line-height: 1.48;
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.9s ease-out, transform 0.9s ease-out;
}

.speech-bubble.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Хвістик бульбашки */
.speech-bubble::before {
  content: "";
  position: absolute;
  bottom: -20px;
  left: 28px;
  border: 14px solid transparent;
  border-top-color: #000;
  z-index: -1;
}

.speech-bubble.right {
  align-self: flex-end;
  margin-right: 10px;
}

.speech-bubble.right::before {
  left: auto;
  right: 28px;
}

/* Плавна поява по черзі */
.fade-sequence {
  animation: bubbleAppear 1.1s forwards;
  animation-delay: var(--delay, 0s);
}

@keyframes bubbleAppear {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
/* Кнопки вибору в останній рамці */
.choices {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 16px;
}

.choices button {
  padding: 14px 20px;
  background: #111;
  color: white;
  border: 2px solid #555;
  border-radius: 12px;
  cursor: pointer;
  font-size: 1.05rem;
  transition: all 0.3s;
}

.choices button:hover {
  background: #222;
  border-color: #888;
  transform: translateY(-2px);
}

/* Кнопка назад */
.back-btn {
  position: fixed;
  bottom: 16px;
  left: 16px;
  padding: 12px 26px;
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid #777;
  border-radius: 40px;
  color: #ddd;
  cursor: pointer;
  z-index: 100;
  font-size: 1rem;
}

/* Заборона скролу */
html,
body {
  overflow: hidden;
  height: 100%;
}

/* ... попередні стилі залишаються ... */
/* Змінна для фону сцени */
:root {
  --scene-bg: url("scenes/mukachevo-bridge-night.jpg") center/cover no-repeat fixed;
  --accent: #c41e3b;
  --bubble-bg: rgba(35, 20, 65, 0.88);
  --text: #f8f1e9;
}

/* Анімації для появи реплік / персонажів */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-60px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(60px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
@keyframes pulseHeart {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.3);
  }
  100% {
    transform: scale(1);
  }
}
/* Класи для анімацій */
.animate-fade-up {
  animation: fadeInUp 1.1s ease-out forwards;
}

.animate-slide-left {
  animation: slideInLeft 0.9s ease-out forwards;
}

.animate-slide-right {
  animation: slideInRight 0.9s ease-out forwards;
}

.animate-pulse-heart {
  animation: pulseHeart 1.2s ease-in-out;
}

/* Портрети персонажів — більші, з тінню */
.portrait {
  position: absolute;
  bottom: 8vh;
  width: 32vw;
  max-width: 180px;
  height: auto;
  filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.6));
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.portrait.visible {
  opacity: 1;
  transform: scale(1);
}

.portrait.hidden {
  opacity: 0;
  transform: scale(0.85);
}

/* Ефекти на фоні при зміні сцени */
.scene.full-bg {
  transition: background 1.8s ease;
}

/* ===== MOBILE FIRST STORY ===== */
.scene {
  position: relative;
  height: 100vh;
  background-size: cover;
  background-position: center;
  display: flex;
  align-items: flex-end;
}

/* Персонажі */
.character {
  position: absolute;
  bottom: 110px;
  height: 60vh;
  max-height: 420px;
  pointer-events: none;
}

.character-left {
  left: -5px;
}

.character-right {
  right: -5px;
}

/* Діалог */
.dialogue-container {
  width: 100%;
  padding: 14px;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(6px);
  border-radius: 18px 18px 0 0;
}

.speech-bubble {
  background: rgba(255, 255, 255, 0.08);
  padding: 14px;
  border-radius: 12px;
  margin-bottom: 10px;
  font-size: 15px;
}

.choices button {
  width: 100%;
  padding: 14px;
  margin-top: 8px;
  border: none;
  border-radius: 10px;
  background: #6b5cff;
  color: white;
  font-size: 15px;
}

/* планшет */
@media (min-width: 700px) {
  .character {
    height: 75vh;
  }
  .dialogue-container {
    max-width: 700px;
    margin: 0 auto;
  }
}
.character {
  position: absolute;
  bottom: 6vh;
  height: 58vh;
  max-height: 420px;
  pointer-events: none;
  transition: opacity 0.7s ease, transform 0.7s ease;
  filter: drop-shadow(0 12px 24px rgba(0, 0, 0, 0.65));
}

.character-left {
  left: 1vw;
  transform: translateX(-10%);
}

.character-right {
  right: 1vw;
  transform: translateX(10%);
}

.character.hidden {
  opacity: 0;
  transform: scale(0.94) translateY(40px);
}

#scene-container {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: background-image 1.4s ease;
}

.dialogue-container {
  width: 100%;
  max-width: 820px;
  margin: 0 auto 90px auto;
  padding: 0 14px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.speech-bubble {
  position: relative;
  background: rgba(28, 22, 68, 0.91);
  backdrop-filter: blur(5px);
  color: #f0e8ff;
  padding: 14px 20px;
  border-radius: 14px;
  border: 2px solid rgba(122, 90, 255, 0.5019607843);
  max-width: 82%;
  font-size: clamp(1.05rem, 4vw, 1.28rem);
  line-height: 1.45;
  opacity: 0;
  transform: translateY(35px);
  transition: all 0.9s ease-out;
}

.speech-bubble.visible {
  opacity: 1;
  transform: translateY(0);
}

.speech-bubble.left {
  align-self: flex-start;
}

.speech-bubble.right {
  align-self: flex-end;
}

.speech-bubble.narrator {
  align-self: center;
  text-align: center;
  background: rgba(18, 12, 48, 0.94);
  border-color: #6644aa;
  max-width: 78%;
}

.choices {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 12px;
}

.choices button {
  padding: 14px 22px;
  font-size: 1.1rem;
  background: #5a48d8;
  border: none;
  border-radius: 12px;
  color: white;
  cursor: pointer;
  transition: all 0.28s;
}

.choices button:hover {
  background: #7a68ff;
  transform: translateY(-2px);
}